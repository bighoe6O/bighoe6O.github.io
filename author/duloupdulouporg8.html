<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mon Blog | Articles by duloup@duloup.org</title>
    <link rel="shortcut icon" type="image/png" href="http://dev.duloup.org/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="http://dev.duloup.org/favicon.ico">
    <link rel="stylesheet" href="http://dev.duloup.org/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="http://dev.duloup.org/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="duloup@duloup.org" />
    <link rel="stylesheet" href="http://dev.duloup.org/theme/css/stork.css">
    <link rel="stylesheet" media="screen and (prefers-color-scheme: dark)" href="http://dev.duloup.org/theme/css/stork-dark.css">
</head>
<body>
    <header>
        <nav>
            <ul>

                <li class="ephemeral selected"><a href="http://dev.duloup.org/author/duloupdulouporg8.html">duloup@duloup.org</a></li>
                <li><a href="http://dev.duloup.org/">Home</a></li>
                <li><a href="http://blog.duloup.org">Site</a></li>
                <li><a href="http://dev.duloup.org/category/tech.html">Tech</a></li>
                <li><a href="http://dev.duloup.org/category/musique.html">Musique</a></li>
                <li><a href="http://dev.duloup.org/categories.html">Categories</a></li>
                <li><a href="http://dev.duloup.org/tags.html">Tags</a></li>
                <li><a href="http://dev.duloup.org/about.html">About</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="http://dev.duloup.org/">Mon Blog</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content"><div class="search-box"><div>Search: </div><input data-stork="sitesearch" /></div>
<div data-stork="sitesearch-output"></div>
            <h4 class="date">oct. 23, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/rub-rubocop-checker.html" rel="bookmark" title="Permanent Link to &quot;rub-rubocop-checker&quot;">rub-rubocop-checker</a>
                </h2>

                
                

                <p><a href="https://github.com/rubocop-hq/rubocop/blob/master/config/default.yml">GitHub</a></p>
<p><a href="https://rubocop.readthedocs.io/en/latest/configuration/">Configuration</a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># .rubocop.yml</span><span class="w"></span>
<span class="c1"># inherit_from: ../.rubocop.yml</span><span class="w"></span>

<span class="nt">Style/Encoding</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">Enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="nt">Metrics/LineLength</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">Max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">99</span><span class="w"></span>

<span class="nt">Metrics/MethodLength</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">Max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">99</span><span class="w"></span>

<span class="nt">Metrics/AbcSize</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">Max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">49</span><span class="w"></span>

<span class="nt">Layout/EndOfLine</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">EnforcedStyle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lf</span><span class="w"></span>
</code></pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/rub-rubocop-checker.html">posted at 09:36</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/developpement.html" rel="tag">Développement</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/ruby.html" class="tags">Ruby</a>
                </div>
            </article>            <h4 class="date">oct. 22, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/git-dangling.html" rel="bookmark" title="Permanent Link to &quot;git-dangling&quot;">git-dangling</a>
                </h2>

                
                

                <p><a href="https://tekkie.ro/news/howto-remove-all-dangling-commits-from-your-git-repository/">https://tekkie.ro/news/howto-remove-all-dangling-commits-from-your-git-repository/</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/git-dangling.html">posted at 12:06</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/developpement.html" rel="tag">Développement</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/git.html" class="tags">Git</a>
                </div>
            </article>            <h4 class="date">oct. 21, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/ruby-rake.html" rel="bookmark" title="Permanent Link to &quot;ruby-rake&quot;">ruby-rake</a>
                </h2>

                
                

                <p><a href="https://github.com/ruby/rake">GitHub</a></p>
<p><a href="https://ruby.github.io/rake/">Documentation</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/ruby-rake.html">posted at 08:50</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/developpement.html" rel="tag">Développement</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/ruby.html" class="tags">Ruby</a>
                    &nbsp;<a href="http://dev.duloup.org/tag/build.html" class="tags">Build</a>
                </div>
            </article>            <h4 class="date">oct. 21, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/sites-de-presse.html" rel="bookmark" title="Permanent Link to &quot;sites-de-presse&quot;">sites-de-presse</a>
                </h2>

                
                

                <p><a href="https://www.mediapart.fr/">https://www.mediapart.fr/</a></p>
<p><a href="https://www.monde-diplomatique.fr/">https://www.monde-diplomatique.fr/</a></p>
<p>https://www.courrierinternational.com/</p>
<p><a href="https://www.bbc.com/news">https://www.bbc.com/news</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/sites-de-presse.html">posted at 02:04</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/culture.html" rel="tag">Culture</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/livres.html" class="tags">Livres</a>
                </div>
            </article>            <h4 class="date">oct. 20, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/samba.html" rel="bookmark" title="Permanent Link to &quot;samba&quot;">samba</a>
                </h2>

                
                

                <p><a href="Https://askubuntu.com/questions/754572/cannot-restart-samba-samba-service-is-masked">Https://askubuntu.com/questions/754572/cannot-restart-samba-samba-service-is-masked</a></p>
<p><a href="https://wiki.samba.org/index.php/Mounting_samba_shares_from_a_unix_client#Common_mount.cifs_options">https://wiki.samba.org/index.php/Mounting_samba_shares_from_a_unix_client#Common_mount.cifs_options</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/samba.html">posted at 21:07</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/systeme.html" rel="tag">Système</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/windows.html" class="tags">Windows</a>
                    &nbsp;<a href="http://dev.duloup.org/tag/linux.html" class="tags">Linux</a>
                </div>
            </article>            <h4 class="date">oct. 20, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/mpd-icecast.html" rel="bookmark" title="Permanent Link to &quot;mpd-icecast&quot;">mpd-icecast</a>
                </h2>

                
                

                <p><a href="https://stmllr.net/blog/streaming-audio-with-mpd-and-icecast2-on-raspberry-pi/">https://stmllr.net/blog/streaming-audio-with-mpd-and-icecast2-on-raspberry-pi/</a></p>
<p><a href="https://www.gebbl.net/2013/10/playing-internet-radio-streams-mpdmpc-little-bash-python/">https://www.gebbl.net/2013/10/playing-internet-radio-streams-mpdmpc-little-bash-python/</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/mpd-icecast.html">posted at 20:33</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/musique.html" rel="tag">Musique</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/mpd.html" class="tags">MPD</a>
                    &nbsp;<a href="http://dev.duloup.org/tag/players.html" class="tags">Players</a>
                </div>
            </article>            <h4 class="date">oct. 20, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/openvpn.html" rel="bookmark" title="Permanent Link to &quot;openvpn&quot;">openvpn</a>
                </h2>

                
                

                <h1>Installation du serveur linux</h1>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-18-04">https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-18-04</a></p>
<h2>Installing OpenVPN and EasyRSA</h2>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">update</span><span class="w"></span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">openvpn</span><span class="w"></span>
<span class="n">wget</span><span class="w"> </span><span class="o">-</span><span class="n">P</span><span class="w"> </span><span class="o">~/</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">OpenVPN</span><span class="o">/</span><span class="n">easy</span><span class="o">-</span><span class="n">rsa</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">v3</span><span class="o">.</span><span class="mf">0.4</span><span class="o">/</span><span class="n">EasyRSA</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="mf">4.</span><span class="n">tgz</span><span class="w"></span>

<span class="n">cd</span><span class="w"> </span><span class="o">~</span><span class="w"></span>
<span class="n">tar</span><span class="w"> </span><span class="n">xvf</span><span class="w"> </span><span class="n">EasyRSA</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="mf">4.</span><span class="n">tgz</span><span class="w"></span>
</code></pre></div>

<h2>Configuring the EasyRSA Variables and Building the CA</h2>
<p>/etc/openvpn/easy-rsa</p>
<p>/etc/openvpn/easy-rsa/vars</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">EASY_RSA</span><span class="o">=</span><span class="s2">&quot;`pwd`&quot;</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">OPENSSL</span><span class="o">=</span><span class="s2">&quot;openssl&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">PKCS11TOOL</span><span class="o">=</span><span class="s2">&quot;pkcs11-tool&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">GREP</span><span class="o">=</span><span class="s2">&quot;grep&quot;</span><span class="w"></span>


<span class="k">export</span><span class="w"> </span><span class="n">KEY_CONFIG</span><span class="o">=</span><span class="n n-Quoted">`$EASY_RSA/whichopensslcnf $EASY_RSA`</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">KEY_DIR</span><span class="o">=</span><span class="s2">&quot;$EASY_RSA/keys&quot;</span><span class="w"></span>

<span class="n">echo</span><span class="w"> </span><span class="n">NOTE</span><span class="o">:</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">clean</span><span class="o">-</span><span class="k">all</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">doing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">rf</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">$KEY_DIR</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">PKCS11_MODULE_PATH</span><span class="o">=</span><span class="s2">&quot;dummy&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">PKCS11_PIN</span><span class="o">=</span><span class="s2">&quot;dummy&quot;</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">KEY_SIZE</span><span class="o">=</span><span class="mi">2048</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">CA_EXPIRE</span><span class="o">=</span><span class="mi">3650</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">KEY_EXPIRE</span><span class="o">=</span><span class="mi">3650</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">KEY_COUNTRY</span><span class="o">=</span><span class="s2">&quot;FR&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_PROVINCE</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_CITY</span><span class="o">=</span><span class="s2">&quot;Toulon&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_ORG</span><span class="o">=</span><span class="s2">&quot;DuloupOrg&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_EMAIL</span><span class="o">=</span><span class="s2">&quot;admin@duloup.org&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_OU</span><span class="o">=</span><span class="s2">&quot;MonVPN&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_CN</span><span class="o">=</span><span class="s2">&quot;MonVPN&quot;</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">KEY_ALTNAMES</span><span class="o">=</span><span class="s2">&quot;MonVPN&quot;</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="n">KEY_NAME</span><span class="o">=</span><span class="s2">&quot;EasyRSA&quot;</span><span class="w"></span>
</code></pre></div>

<p>Initiate the public key infrastructure on the CA server:</p>
<div class="highlight"><pre><span></span><code>./easyrsa init-pki

./easyrsa build-ca nopass
</code></pre></div>

<h2>Creating the Server Certificate, Key, and Encryption Files</h2>
<h2>Create a strong Diffie-Hellman key to use during key exchange by typing:</h2>
<div class="highlight"><pre><span></span><code>./easyrsa gen-dh
openvpn --genkey --secret ta.key
</code></pre></div>

<h2>Generating a Client Certificate and Key Pair</h2>
<div class="highlight"><pre><span></span><code>mkdir -p ~/client-configs/keys
</code></pre></div>

<h2>Problèmes</h2>
<p><a href="https://selivan.github.io/2017/05/11/mikrotik-openvpn-bad-lzo-header-69.html">https://selivan.github.io/2017/05/11/mikrotik-openvpn-bad-lzo-header-69.html</a></p>
<h1>OpenVPN</h1>
<p><a href="https://openvpn.net/">https://openvpn.net/</a></p>
<p><a href="https://michlstechblog.info/blog/openvpn-set-a-static-ip-address-for-a-client/">https://michlstechblog.info/blog/openvpn-set-a-static-ip-address-for-a-client/</a></p>
<p><a href="https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-linux/">https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-linux/</a></p>
<p><a href="https://askubuntu.com/questions/530088/ufw-for-openvpn#796281">https://askubuntu.com/questions/530088/ufw-for-openvpn#796281</a></p>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-16-04">https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-16-04</a></p>
<p><a href="https://help.ubuntu.com/lts/serverguide/openvpn.html">https://help.ubuntu.com/lts/serverguide/openvpn.html</a></p>
<p><a href="https://doc.ubuntu-fr.org/tutoriel/connectionvpn">https://doc.ubuntu-fr.org/tutoriel/connectionvpn</a></p>
<p><a href="https://cloud.scaleway.com/">https://cloud.scaleway.com/</a></p>
<h1>UFW: Autorisation de samba</h1>
<div class="highlight"><pre><span></span><code>ufw allow from 10.8.0.0/24 to any app Samba
</code></pre></div>

<h1>Android</h1>
<p>TLS Direction 1</p>
<p><a href="https://wiki.gentoo.org/wiki/Create_a_Public_Key_Infrastructure_Using_the_easy-rsa_Scripts">https://wiki.gentoo.org/wiki/Create_a_Public_Key_Infrastructure_Using_the_easy-rsa_Scripts</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/openvpn.html">posted at 14:58</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/securite.html" rel="tag">Sécurité</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/securite.html" class="tags">Sécurité</a>
                </div>
            </article>            <h4 class="date">oct. 20, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/git-hooks.html" rel="bookmark" title="Permanent Link to &quot;Git Hooks&quot;">Git Hooks</a>
                </h2>

                
                

                <p><a href="https://www.digitalocean.com/community/tutorials/how-to-use-git-hooks-to-automate-development-and-deployment-tasks">https://www.digitalocean.com/community/tutorials/how-to-use-git-hooks-to-automate-development-and-deployment-tasks</a></p>
<p><a href="https://stackoverflow.com/questions/7351551/writing-a-git-post-receive-hook-to-deal-with-a-specific-branch#13057643">https://stackoverflow.com/questions/7351551/writing-a-git-post-receive-hook-to-deal-with-a-specific-branch#13057643</a></p>
<p>test-site/.git/hooks/post-commit </p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env ruby</span>

<span class="nb">puts</span> <span class="s2">&quot;Post Commit...&quot;</span>
<span class="nb">puts</span> <span class="s2">&quot;Dir.pwd: </span><span class="si">#{</span><span class="no">Dir</span><span class="o">.</span><span class="n">pwd</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">puts</span> <span class="s2">&quot;File.expand_path File.dirname(__FILE__): </span><span class="si">#{</span><span class="no">File</span><span class="o">.</span><span class="n">expand_path</span> <span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">__FILE__</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="no">Dir</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">expand_path</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">__FILE__</span><span class="p">),</span> <span class="s1">&#39;../..&#39;</span><span class="p">))</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">&quot;new dir: </span><span class="si">#{</span><span class="no">Dir</span><span class="o">.</span><span class="n">pwd</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nb">puts</span> <span class="sx">%x[bundle exec jekyll build]</span>
<span class="k">end</span>
<span class="k">until</span> <span class="no">ARGV</span><span class="o">.</span><span class="n">empty?</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">&quot;From arguments: </span><span class="si">#{</span><span class="no">ARGV</span><span class="o">.</span><span class="n">shift</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>

<span class="k">while</span> <span class="n">a</span> <span class="o">=</span> <span class="nb">gets</span>
  <span class="nb">puts</span> <span class="s2">&quot;From stdin: </span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/git-hooks.html">posted at 14:13</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/tech.html" rel="tag">Tech</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/git.html" class="tags">Git</a>
                </div>
            </article>            <h4 class="date">oct. 20, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/lighttpd-sous-windows.html" rel="bookmark" title="Permanent Link to &quot;lighttpd sous windows&quot;">lighttpd sous windows</a>
                </h2>

                
                

                <p><a href="http://www.lighttpd.net/">http://www.lighttpd.net/</a></p>
<div class="highlight"><pre><span></span><code><span class="n">wget</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">lighttpd</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">lighttpd</span><span class="o">/</span><span class="n">releases</span><span class="o">-</span><span class="mf">1.4</span><span class="o">.</span><span class="n">x</span><span class="o">/</span><span class="n">lighttpd</span><span class="o">-</span><span class="mf">1.4</span><span class="o">.</span><span class="mf">51.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="w"></span>
<span class="n">tar</span><span class="w"> </span><span class="n">zxf</span><span class="w"> </span><span class="n">lighttpd</span><span class="o">-</span><span class="mf">1.4</span><span class="o">.</span><span class="mf">51.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="w"></span>
<span class="n">cd</span><span class="w"> </span><span class="n">lighttpd</span><span class="o">-</span><span class="mf">1.4</span><span class="o">.</span><span class="mi">51</span><span class="w"></span>
<span class="o">./</span><span class="n">configure</span><span class="w"> </span><span class="o">--</span><span class="n">disable</span><span class="o">-</span><span class="n">ipv6</span><span class="w"></span>
<span class="n">make</span><span class="w"></span>

<span class="n">base</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="mi">457</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="s1">&#39;uid_t&#39;</span><span class="w"></span>
<span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;LOG_ERR&#39;</span><span class="w"> </span><span class="n">undeclared</span><span class="w"></span>
</code></pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/lighttpd-sous-windows.html">posted at 09:35</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/systeme.html" rel="tag">Système</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/web.html" class="tags">Web</a>
                    &nbsp;<a href="http://dev.duloup.org/tag/windows.html" class="tags">Windows</a>
                </div>
            </article>            <h4 class="date">oct. 19, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://dev.duloup.org/jekyll-rtest.html" rel="bookmark" title="Permanent Link to &quot;Jekyll RTest&quot;">Jekyll RTest</a>
                </h2>

                
                

                <h2>Rspec</h2>
<p><a href="https://medium.com/espark-engineering-blog/testing-your-jekyll-site-the-ruby-way-ccfa386a8318">https://medium.com/espark-engineering-blog/testing-your-jekyll-site-the-ruby-way-ccfa386a8318</a></p>
<p><a href="http://chromedriver.storage.googleapis.com/2.9/chromedriver_win32.zip">http://chromedriver.storage.googleapis.com/2.9/chromedriver_win32.zip</a></p>
<h1>Examples</h1>
<h2>Rspec</h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Gemfile</span>
<span class="n">source</span> <span class="s2">&quot;https://rubygems.org&quot;</span>

<span class="n">gem</span> <span class="s2">&quot;jekyll&quot;</span><span class="p">,</span> <span class="s2">&quot;~&gt; 3.8.4&quot;</span>

<span class="n">gem</span> <span class="s2">&quot;minima&quot;</span><span class="p">,</span> <span class="s2">&quot;~&gt; 2.0&quot;</span>

<span class="c1"># If you have any plugins, put them here!</span>
<span class="n">group</span> <span class="ss">:jekyll_plugins</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s2">&quot;jekyll-feed&quot;</span><span class="p">,</span> <span class="s2">&quot;~&gt; 0.6&quot;</span>
<span class="k">end</span>

<span class="c1"># Windows does not include zoneinfo files, so bundle the tzinfo-data gem</span>
<span class="n">gem</span> <span class="s2">&quot;tzinfo-data&quot;</span><span class="p">,</span> <span class="ss">platforms</span><span class="p">:</span> <span class="o">[</span><span class="ss">:mingw</span><span class="p">,</span> <span class="ss">:mswin</span><span class="p">,</span> <span class="ss">:x64_mingw</span><span class="p">,</span> <span class="ss">:jruby</span><span class="o">]</span>

<span class="c1"># Performance-booster for watching directories on Windows</span>
<span class="n">gem</span> <span class="s2">&quot;wdm&quot;</span><span class="p">,</span> <span class="s2">&quot;~&gt; 0.1.0&quot;</span> <span class="k">if</span> <span class="no">Gem</span><span class="o">.</span><span class="n">win_platform?</span>

<span class="n">group</span> <span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s2">&quot;rspec&quot;</span>
  <span class="n">gem</span> <span class="s2">&quot;selenium-webdriver&quot;</span>
  <span class="n">gem</span> <span class="s2">&quot;chromedriver-helper&quot;</span>
  <span class="c1"># Ajout de puma (server</span>
  <span class="c1"># Failures:</span>

  <span class="c1"># 1) sample has the page title</span>
  <span class="c1">#    Failure/Error: raise LoadError, &#39;Capybara is unable to load `puma` for its server, please add `puma` to your project or specify a different server via something like `Capybara.server = :webrick`.&#39;</span>
  <span class="n">gem</span> <span class="s2">&quot;puma&quot;</span>
  <span class="n">gem</span> <span class="s2">&quot;capybara&quot;</span>
  <span class="n">gem</span> <span class="s2">&quot;rack-jekyll&quot;</span>
  <span class="n">gem</span> <span class="s2">&quot;pry&quot;</span>
<span class="k">end</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># spec/spec_helper.rb</span>
<span class="c1"># Require all of the necessary gems</span>
<span class="nb">require</span> <span class="s1">&#39;rspec&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;capybara/rspec&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;rack/jekyll&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;rack/test&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;pry&#39;</span>

<span class="no">RSpec</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="o">.</span><span class="n">expect_with</span> <span class="ss">:rspec</span> <span class="k">do</span> <span class="o">|</span><span class="n">expectations</span><span class="o">|</span>
    <span class="n">expectations</span><span class="o">.</span><span class="n">include_chain_clauses_in_custom_matcher_descriptions</span> <span class="o">=</span> <span class="kp">true</span>
  <span class="k">end</span>

  <span class="n">config</span><span class="o">.</span><span class="n">mock_with</span> <span class="ss">:rspec</span> <span class="k">do</span> <span class="o">|</span><span class="n">mocks</span><span class="o">|</span>
    <span class="n">mocks</span><span class="o">.</span><span class="n">verify_partial_doubles</span> <span class="o">=</span> <span class="kp">true</span>
  <span class="k">end</span>

  <span class="c1"># Configure Capybara to use Selenium.</span>
  <span class="no">Capybara</span><span class="o">.</span><span class="n">register_driver</span> <span class="ss">:selenium</span> <span class="k">do</span> <span class="o">|</span><span class="n">app</span><span class="o">|</span>
    <span class="c1"># Configure selenium to use Chrome.</span>
    <span class="no">Capybara</span><span class="o">::</span><span class="no">Selenium</span><span class="o">::</span><span class="no">Driver</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="ss">:browser</span> <span class="o">=&gt;</span> <span class="ss">:chrome</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="c1"># Configure Capybara to load the website through rack-jekyll.</span>
  <span class="c1"># (force_build: true) builds the site before the tests are run,</span>
  <span class="c1"># so our tests are always running against the latest version</span>
  <span class="c1"># of our jekyll site.</span>
  <span class="no">Capybara</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Jekyll</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">force_build</span><span class="p">:</span> <span class="kp">true</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Rakefile</span>
<span class="n">task</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="ss">:rspec</span>

<span class="n">task</span> <span class="ss">:install</span> <span class="k">do</span>
  <span class="n">sh</span> <span class="s2">&quot;bundle install --path ../vendor/bundle&quot;</span>
<span class="k">end</span>

<span class="n">task</span> <span class="ss">:update</span> <span class="k">do</span>
  <span class="n">sh</span> <span class="s2">&quot;bundle update&quot;</span>
<span class="k">end</span>

<span class="n">task</span> <span class="ss">:rspec</span> <span class="k">do</span>
  <span class="n">sh</span> <span class="s2">&quot;bundle exec rspec&quot;</span>
<span class="k">end</span>
</code></pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://dev.duloup.org/jekyll-rtest.html">posted at 16:34</a>
                    &nbsp;&middot;&nbsp;<a href="http://dev.duloup.org/category/archive.html" rel="tag">Archive</a>
                    &nbsp;&middot;
                    &nbsp;<a href="http://dev.duloup.org/tag/jekyll.html" class="tags">Jekyll</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">

                    <a href="http://dev.duloup.org/author/duloupdulouporg7.html" class="prev_page">&larr;&nbsp;Previous</a>

                    <a href="http://dev.duloup.org/author/duloupdulouporg9.html" class="next_page">Next&nbsp;&rarr;</a>

                    <span>Page 8 of 15</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
    <script src="http://dev.duloup.org/theme/js/stork.js"></script>
    <script>
        stork.initialize("http://dev.duloup.org/theme/js/stork.wasm")
        stork.downloadIndex("sitesearch", "http://dev.duloup.org/search-index.st")
        stork.attach("sitesearch")
    </script>
</body>
</html>